import importlib
import pytest

cr2007_task1 = importlib.import_module("cr2007-task1")

def test_task1():
	message = """AlanMathisonTuringwasaBritishmathematicianlogiciancryptanalystandcomputerscientistHewashighlyinfluentialinthedevelopmentofcomputerscienceprovidingaformalisationoftheconceptsofalgorithmandcomputationwiththeTuringmachineTuringiswidelyconsideredtobethefatherofcomputerscienceandartificialintelligenceDuringWorldWarIITuringworkedfortheGovernmentCodeandCypherSchoolGCCSatBletchleyParkBritainscodebreakingcentreForatimehewasheadofHutthesectionresponsibleforGermannavalcryptanalysisHedevisedanumberoftechniquesforbreakingGermanciphersincludingthemethodofthebombeanelectromechanicalmachinethatcouldfindsettingsfortheEnigmamachineAfterthewarheworkedattheNationalPhysicalLaboratorywherehecreatedoneofthefirstdesignsforastoredprogramcomputertheACEInTuringjoinedMaxNewmansComputingLaboratoryatManchesterUniversitywhereheassistedinthedevelopmentoftheManchestercomputersandbecameinterestedinmathematicalbiologyHewroteapaperonthechemicalbasisofmorphogenesisandpredictedoscillatingchemicalreactionssuchastheBelousovZhabotinskyreactionwhichwerefirstobservedinthesTuringshomosexualityresultedinacriminalprosecutioninwhenhomosexualactswerestillillegalintheUnitedKingdomHeacceptedtreatmentwithfemalehormoneschemicalcastrationasanalternativetoprisonTuringdiedinjustovertwoweeksbeforehisndbirthdayfromcyanidepoisoningAninquestdeterminedthathisdeathwassuicidehismotherandsomeothersbelievedhisdeathwasaccidentalOnSeptemberfollowinganInternetcampaignBritishPrimeMinisterGordonBrownmadeanofficialpublicapologyonbehalfoftheBritishgovernmentfortheappallingwayhewastreatedAsofMayaprivatemembersbillwasbeforetheHouseofLordswhichwouldgrantTuringastatutorypardonifenacted"""
	assert cr2007_task1.calculate_index_of_coincidence(message) == 0.0642

def test_task2():
	message = """NosmokescreenredherringfalsesincerityoranyotherdiversionarydevicewillsucceedinconcealingyourintentionsifyoualreadyhaveanestablishedreputationfordeceptionAndasyougetolderandachievesuccessitoftenbecomesincreasinglydifficulttodisguiseyourcunningEveryoneknowsyoupracticedeceptionpersistinplayingnaiveandyouruntheriskofseemingtherankesthypocritewhichwillseverelylimityourroomtomaneuverInsuchcasesitisbettertoownuptoappearthehonestrogueorbettertherepentantrogueNotonlywillyoubeadmiredforyourfranknessbutmostwonderfulandstrangeofallyouwillbeabletocontinueyourstratagemsAsPTBarnumthenineteenthcenturykingofhumbuggerygrewolderhelearnedtoembracehisreputationasagranddeceiverAtonepointheorganizedabuffalohuntinNewjerseycompletewithIndiansandafewimportedbuffaloHepublicizedthehuntasgenuinebutitcameoffassocompletelyfakethatthecrowdinsteadofgettingangryandaskingfortheirmoneybackwasgreatlyamusedTheyknewBarnumpulledtricksallthetimethatwasthesecretofhissuccessandtheylovedhimforitLearningalessonfromthisaffairBarnumstoppedconcealingallofhisdevicesevenrevealinghisdeceptionsinatellallautobiographyAsKierkegaardwroteTheworldwantstobedeceived"""
	assert cr2007_task1.calculate_index_of_coincidence(message, True) == 0.0633

test_task1()
test_task2()